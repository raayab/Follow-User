(this.webpackJsonpfollow_user=this.webpackJsonpfollow_user||[]).push([[0],{19:function(e,t,a){e.exports=a(43)},24:function(e,t,a){},25:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),l=a(18),s=a.n(l),r=(a(24),a(2)),u=a(3),i=a(6),c=a(4),h=a(7),m=a(5),f=(a(25),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).changeFollowStatus=function(e){a.props.handleFollowStatus(a.props.id,a.props.followStatus),a.setState({followStatus:"Follow"===a.state.followStatus?"Unfollow":"Follow"})},a.state={followStatus:a.props.followStatus},a.changeFollowStatus=a.changeFollowStatus.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"onMouseOver",value:function(e){this.setState({followStatus:"Unfollow"})}},{key:"onMouseOut",value:function(e){this.setState({followStatus:this.props.followStatus})}},{key:"render",value:function(){return o.a.createElement("tr",{className:"table_row"},o.a.createElement("td",{className:"item"},this.props.name),o.a.createElement("td",{className:"item"},this.props.groupName),o.a.createElement("td",{className:"item"},this.props.numOfFollowers?this.props.numOfFollowers:0),o.a.createElement("td",{className:"item"},o.a.createElement("button",{className:this.state.followStatus,onClick:this.changeFollowStatus,onMouseEnter:"Following"===this.state.followStatus?this.onMouseOver.bind(this):function(){},onMouseLeave:"Unfollow"===this.state.followStatus?this.onMouseOut.bind(this):function(){}},o.a.createElement("span",null,this.state.followStatus))))}}]),t}(n.Component)),d=a(8),g=a.n(d),w=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={users:[],followStatus:""},a.handleFollowStatus=a.handleFollowStatus.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleFollowStatus",value:function(e,t){var a=this;g.a.post("http://localhost:4000/following",{loggedInUser:this.props.loggedInUser,user:e,followStatus:t}).then((function(e){a.getUsersRows()})).catch((function(e){alert("request to follow/unfollow Failed")}))}},{key:"getUsersRows",value:function(){var e=this;g.a.get("http://localhost:4000/userRow",{params:{loggedInUser:this.props.loggedInUser}}).then((function(t){return e.setState({users:t.data})}))}},{key:"componentDidMount",value:function(){this.getUsersRows()}},{key:"render",value:function(){var e=this,t=this.state.users.map((function(t){return o.a.createElement(f,{name:t.user_name,id:t.user_id,groupName:t.group_name,numOfFollowers:t.followers,followStatus:t.follow_status,handleFollowStatus:e.handleFollowStatus})}));return o.a.createElement("div",null,o.a.createElement("table",{className:"users_list"},o.a.createElement("tr",null,o.a.createElement("th",null,"Name"),o.a.createElement("th",null,"Group Name"),o.a.createElement("th",null,"Number of followers"),o.a.createElement("th",null)),t))}}]),t}(n.Component),p=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={loggedInUserName:""},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;g.a.get("http://localhost:4000/userId",{params:{loggedInUser:this.props.loggedInUser}}).then((function(e){return e.data[0]})).then((function(t){return e.setState({loggedInUserName:t.name})}))}},{key:"render",value:function(){return o.a.createElement("div",{className:"UserPage"},this.state.loggedInUserName?o.a.createElement("div",null,o.a.createElement("h1",{className:"row"},"Welcome ",this.state.loggedInUserName," "),o.a.createElement("div",{className:"row"},"Choose users to follow:"),o.a.createElement(w,{loggedInUser:this.props.loggedInUser})):o.a.createElement("div",null," Loading... "))}}]),t}(n.Component),v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={value:""},a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleValue",value:function(e){this.setState({value:e.target.value})}},{key:"handleSubmit",value:function(e){this.props.saveUser(this.state.value)}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"LoginPage"},o.a.createElement("div",{className:"row"},"Must be signed in"),o.a.createElement("form",{onSubmit:function(t){return e.handleSubmit(t)}},o.a.createElement("label",null,o.a.createElement("input",{placeholder:"User ID",value:this.state.value,type:"text",onChange:function(t){return e.handleValue(t)}})),o.a.createElement("input",{type:"submit",value:"Sign in"})))}}]),t}(n.Component),b=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(i.a)(this,Object(c.a)(t).call(this,e))).state={loggedInUser:localStorage.getItem("loggedInUser")},a.saveUser=a.saveUser.bind(Object(h.a)(a)),a}return Object(m.a)(t,e),Object(u.a)(t,[{key:"saveUser",value:function(e){localStorage.setItem("loggedInUser",e),this.setState({loggedInUser:e})}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.loggedInUser?o.a.createElement(p,{loggedInUser:this.state.loggedInUser}):o.a.createElement(v,{saveUser:this.saveUser}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(o.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.b636ee12.chunk.js.map